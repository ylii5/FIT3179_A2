{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Early Childcare Education Staff by Service Type",
  "background": "#b7c9e2",
  "width": {"step": 70},
  "height": 420,

  "data": { "url": "data/staff_education.csv" },

  "transform": [
    {"filter": "datum.service != null"}
  ],

  "mark": { "type": "bar", "tooltip": true },

  "encoding": {
    "x": {
      "field": "state",
      "type": "nominal",
      "title": "State/Territory",
      "sort": ["NSW","VIC","QLD","SA","WA","TAS","NT","ACT"],
      "axis": {"labelAngle": -20}
    },
    "y": {
      "aggregate": "sum",
      "field": "number",
      "type": "quantitative",
      "title": "Staff count"
      
    },
    "color": {
      "field": "service",
      "type": "nominal",
      "title": "Service type",
      "legend": { "orient": "right" },
      "scale": {
        "domain": ["CBDC", "FDC", "IHC", "OSHC", "VAC", "PRE"],
        "range": ["#E69F00", "#56B4E9", "#009E73", "#0072B2", "#CC79A7", "#D55E00"]
      }
    },
    "tooltip": [
      {"field": "state", "title": "State"},
      {
        "field": "service",
        "title": "Service",
        "type": "nominal"
      },
      {"aggregate": "sum", "field": "number", "title": "Staff", "format": ","}
    ]
  },

  "config": {
    "view": {"stroke": null},
    "axis": {"labelFontSize": 11, "titleFontSize": 12}
  }
}